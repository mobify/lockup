/*! lockup 1.1.1 (https://github.com/mobify/lockup.git) */
!function(a){if("function"==typeof define&&define.amd)define(["$","plugin","deckard"],a);else{var b=window.Zepto||window.jQuery;a(b,window.Plugin)}}(function(a,b){function c(a,b){c.__super__.call(this,a,b,c.DEFAULTS)}a.extend(a.fn,{renameAttr:function(b,c){return this.each(function(){var d=a(this);d.attr(c,d.attr(b)).removeAttr(b)})}});var d={CONTAINER:"lockup__container",LOCKED:"lockup--is-locked"};return c.VERSION="1.1.1",c.DEFAULTS={container:null,locked:a.noop,unlocked:a.noop},b.create("lockup",c,{_init:function(b){this.$element=a(b),this.$html=a("html"),this.$body=a("body"),this.$roots=this.$html.add(this.$body),this.$doc=a(document),this.$container=this._buildContainer();var c=this._instanceCount();this._instanceCount(++c)},destroy:function(){var a=this._instanceCount(),b=this.$container.data("generated");0===this._instanceCount(--a)&&b&&(this._disableScripts(function(){this.$body.append(this.$container.children())}),this.$element.removeData(this.name),this.$container.remove())},_instanceCount:function(a){return!isNaN(a)&&this.$container.data("instance",a),this.$container.data("instance")||0},_buildContainer:function(){var b=a("."+d.CONTAINER);return b.length||(b=this.options.container?a(this.options.container).addClass(d.CONTAINER):this._createContainer()),b.css({overflow:"hidden"}),b},_createContainer:function(){return this._disableScripts(function(){this.$body.wrapInner(a("<div />").addClass(d.CONTAINER))}),this.$body.find("."+d.CONTAINER).data("generated",!0)},_disableScripts:function(a){var b=this.$body.find("script").renameAttr("src","x-src").attr("type","text/lockup-script");a.call(this),b.renameAttr("x-src","src").attr("type","text/javascript")},lock:function(){var b=this;this.bodyPaddingTop=this._getStyle(b.$body,"padding-top"),this.bodyPaddingBottom=this._getStyle(b.$body,"padding-bottom"),this.bodyHasPadding=this.bodyPaddingTop>0||this.bodyPaddingBottom>0,this.bodyMargin=this._getStyle(b.$body,"margin-top"),this.containerPaddingTop=0,this.containerPaddingBottom=0,this.bodyPaddingTop>0&&(this.containerPaddingTop=this._getStyle(b.$container,"padding-top"),this.containerPaddingBottom=this._getStyle(b.$container,"padding-bottom")),this.scrollPosition=this.$body.scrollTop(),this.$doc.off("touchmove",this._preventDefault),this.$container.addClass(d.LOCKED),a.browser.chrome||a.os.ios&&a.os.major>=8?(this.$roots.height("100%"),this.$container.css({overflow:"hidden",height:window.innerHeight}),this.bodyHasPadding&&(this.$body.css({"padding-top":0,"padding-bottom":0}),this.$container.css({"padding-top":this.containerPaddingTop+this.bodyPaddingTop,"padding-bottom":this.containerPaddingBottom+this.bodyPaddingBottom})),this.bodyMargin>0&&this.$body.css({"margin-top":0,"margin-bottom":0}),this.$container.scrollTop(this.scrollPosition),this._trigger("locked")):a.os.ios&&a.os.major<=7?this.$element.find("input, select, textarea").on("focus",function(){setTimeout(function(){window.scrollTo(0,b.scrollPosition),b._trigger("locked")},0)}):this._trigger("locked")},unlock:function(){this.$doc.on("touchmove",this._preventDefault),this.$container.removeClass(d.LOCKED),a.browser.chrome||a.os.ios&&a.os.major>=8?(this.$roots.css("height",""),this.$body.css({margin:"",padding:""}),this.$container.css({overflow:"",height:""}),this.$container.css("padding",""),window.scrollTo(0,this.scrollPosition)):a.os.ios&&a.os.major<=7&&this.$element.find("input, select, textarea").off("focus"),this._trigger("unlocked"),this.$doc.off("touchmove",this._preventDefault)},isLocked:function(){return this.$container.hasClass(d.LOCKED)},_preventDefault:function(a){a.preventDefault()},_getStyle:function(a,b){return parseInt(a.css(b))}}),a});