/*! lockup 0.0.5 (https://github.com/mobify/lockup.git) */
!function(a){if("function"==typeof define&&define.amd)define(["$","plugin","deckard"],a);else{var b=window.Zepto||window.jQuery;a(b,window.Plugin)}}(function(a,b){function c(a,b){c.__super__.call(this,a,b,c.DEFAULTS)}a.extend(a.fn,{renameAttr:function(b,c){return this.each(function(){var d=a(this);d.attr(c,d.attr(b)).removeAttr(b)})}});var d={CONTAINER:"lockup__container"};return c.VERSION="0.0.5",c.DEFAULTS={container:null},b.create("lockup",c,{_init:function(b){this.$element=a(b),this.$html=a("html"),this.$body=a("body"),this.$doc=a(document),this.$element.appendTo(this.$container=this._buildContainer())},_buildContainer:function(){var b=a("."+d.CONTAINER);return this.options.container?b.length||(b=a(this.options.container).addClass(d.CONTAINER)):b.length||(b=this._createContainer()),b},_createContainer:function(){var b=this.$body.find("script").renameAttr("src","x-src").attr("type","text/lockup-script");return this.$body.wrapInner(a("<div />").addClass(d.CONTAINER)),b.renameAttr("x-src","src").attr("type","text/javascript"),this.$body.find("."+d.CONTAINER)},container:function(){return this.$container},lock:function(){var b=this,c=function(a){return parseInt(b.$body.css("padding-"+a))};this.scrollPosition=this.$body.scrollTop(),this.$doc.off("touchmove",this._preventDefault),a.browser.chrome?(this.$html.css("position","fixed"),this.$html.css("top",-1*this.scrollPosition)):a.os.ios&&a.os.major>=8?(this.$body.css("margin-top",0).css("margin-bottom",0),this.$container.height(window.innerHeight).css("overflow","hidden").scrollTop(this.scrollPosition-c("top")-c("bottom"))):a.os.ios&&a.os.major<=7&&this.$element.find("input, select, textarea").on("focus",function(){setTimeout(function(){window.scrollTo(0,b.scrollPosition)},0)})},unlock:function(){this.$doc.on("touchmove",this._preventDefault),a.browser.chrome?(this.$html.css("position",""),this.$html.css("top",""),window.scrollTo(0,this.scrollPosition)):a.os.ios&&a.os.major>=8?(this.$body.css("margin",""),this.$container.css("overflow","").css("height",""),window.scrollTo(0,this.scrollPosition)):a.os.ios&&a.os.major<=7&&this.$element.find("input, select, textarea").off("focus"),this.$doc.off("touchmove",this._preventDefault)},_preventDefault:function(a){a.preventDefault()}}),a});